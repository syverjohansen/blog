{{ $dataPath := split (.Get 0) "/" }}
{{ $data := .Site.Data }}
{{ range $dataPath }}
    {{ $data = index $data . }}
{{ end }}

{{ $headers := index $data "headers" }}
{{ $rows := index $data "rows" }}

<div class="simple-table-wrapper">
    <table class="simple-table">
        <thead>
            <tr>
                {{ range $headers }}
                    <th>{{ . }}</th>
                {{ end }}
            </tr>
        </thead>
        <tbody>
            {{ range $rowIndex, $row := $rows }}
                <tr class="{{ cond (eq (mod $rowIndex 2) 0) "even" "odd" }}">
                    {{ range $cellIndex, $cellValue := $row }}
                        {{ if findRE `^-?\d*\.?\d+$` (string $cellValue) }}
                            {{ $numValue := float $cellValue }}
                            {{ if eq $numValue (float (printf "%.0f" $numValue)) }}
                                <td class="numeric">{{ printf "%.0f" $numValue }}</td>
                            {{ else }}
                                <td class="numeric">{{ printf "%.1f" $numValue }}</td>
                            {{ end }}
                        {{ else }}
                            <td>{{ $cellValue }}</td>
                        {{ end }}
                    {{ end }}
                </tr>
            {{ end }}
        </tbody>
    </table>
</div>

<style>
.simple-table-wrapper {
    margin: 1rem 0;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

.simple-table {
    width: auto;
    min-width: 100%;
    border-collapse: collapse;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.simple-table th,
.simple-table td {
    padding: 8px 12px;
    text-align: left;
    border-bottom: 1px solid #ddd;
    border-right: 1px solid #eee;
}

.simple-table th:last-child,
.simple-table td:last-child {
    border-right: none;
}

.simple-table th {
    background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
    font-weight: 600;
    color: #333;
    border-bottom: 2px solid #ccc;
    white-space: nowrap;
}

.simple-table tbody tr.even {
    background-color: #fff;
}

.simple-table tbody tr.odd {
    background-color: #f8f9fa;
}

.simple-table tbody tr:hover {
    background-color: #e8f4fc;
}

.simple-table td.numeric {
    text-align: right;
    font-variant-numeric: tabular-nums;
}

@media (max-width: 600px) {
    .simple-table {
        font-size: 13px;
    }
    .simple-table th,
    .simple-table td {
        padding: 6px 8px;
    }
}
</style>
